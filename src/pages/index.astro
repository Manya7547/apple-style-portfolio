---
import Layout from "../layouts/Layout.astro";
import Hero from "../components/Hero.astro";
import InfoWidgets from "../components/InfoWidgets.astro";
import SkillsWidget from "../components/SkillsWidget.astro";
import ProjectsWidget from "../components/ProjectsWidget.astro";
import ExperienceWidget from "../components/ExperienceWidget.astro";
import ContactSection from "../components/ContactSection.astro";
import BlogWidgets from "../components/BlogWidgets.astro";
import HobbiesWidget from "../components/HobbiesWidget.astro";
import SpotifyWidget from "../components/SpotifyWidget.astro";
---

<Layout title="Modern Developer Portfolio">
  <main class="bg-dark text-white">
    <Hero />

    <section class="py-20 px-4">
      <div class="container mx-auto max-w-6xl">
        <div class="mb-8">
          <InfoWidgets />
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
          <SkillsWidget />
          <ProjectsWidget />
        </div>
        <div class="space-y-8 mb-8">
          <ExperienceWidget />
        </div>
        <!-- <div class="space-y-8 mb-8">
          <BlogWidgets />
        </div> -->
        <div class="space-y-8 mb-8">
          <ContactSection />
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
          <HobbiesWidget />
          <SpotifyWidget />
        </div>
      </div>
    </section>
  </main>
</Layout>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  gsap.registerPlugin(ScrollTrigger);

  // Animate widgets on scroll
  gsap.utils.toArray(".bg-dark-card").forEach((widget) => {
    gsap.from(widget, {
      y: 50,
      opacity: 0,
      duration: 1,
      scrollTrigger: {
        trigger: widget,
        start: "top bottom-=100",
        toggleActions: "play none none reverse",
      },
    });
  });

  gsap.utils.toArray(".bg-gradient-to-r").forEach((widget) => {
    gsap.from(widget, {
      y: 50,
      opacity: 0,
      duration: 1,
      scrollTrigger: {
        trigger: widget,
        start: "top bottom-=100",
        toggleActions: "play none none reverse",
      },
    });
  });
</script>
